<Window x:Class="RadioIntercepts.WpfApp.Views.MessagesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Messages"
        Height="600"
        Width="1000">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- FILTERS -->
        <Grid Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="140"/>
                <ColumnDefinition Width="140"/>
                <ColumnDefinition Width="140"/>
                <ColumnDefinition Width="140"/>
                <ColumnDefinition Width="140"/>
                <ColumnDefinition Width="140"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0">
                <TextBlock Text="Area"/>
                <ComboBox ItemsSource="{Binding Areas}"
                          DisplayMemberPath="Name"
                          SelectedValuePath="Key"
                          IsEditable="True"
                          Text="{Binding FilterArea, UpdateSourceTrigger=PropertyChanged}"
                          StaysOpenOnEdit="True"/>
            </StackPanel>

            <StackPanel Grid.Column="1">
                <TextBlock Text="Frequency MHz"/>
                <ComboBox ItemsSource="{Binding Frequencies}"
                          IsEditable="True"
                          Text="{Binding FilterFrequency, UpdateSourceTrigger=PropertyChanged}"
                          StaysOpenOnEdit="True"/>
            </StackPanel>

            <StackPanel Grid.Column="2">
                <TextBlock Text="Callsign"/>
                <ComboBox ItemsSource="{Binding Callsigns}"
                          IsEditable="True"
                          Text="{Binding FilterCallsign, UpdateSourceTrigger=PropertyChanged}"
                          StaysOpenOnEdit="True"/>
            </StackPanel>

            <StackPanel Grid.Column="3">
                <TextBlock Text="Date from"/>
                <DatePicker SelectedDate="{Binding FilterDateFrom}"/>
            </StackPanel>

            <StackPanel Grid.Column="4">
                <TextBlock Text="Date to"/>
                <DatePicker SelectedDate="{Binding FilterDateTo}"/>
            </StackPanel>

            <Button Grid.Column="6"
                    Content="Поиск"
                    VerticalAlignment="Bottom"
                    Margin="10,0,0,0"
                    Command="{Binding SearchCommand}"/>
        </Grid>

        <!-- TABLE -->
        <DataGrid Grid.Row="1"
                  ItemsSource="{Binding MessagesView}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Area" Binding="{Binding Area.Name}" Width="50"/>
                <DataGridTextColumn Header="DateTime" Binding="{Binding DateTime, StringFormat=dd.MM.yyyy HH:mm:ss}" Width="120"/>
                <DataGridTextColumn Header="Frequency" Binding="{Binding Frequency.Value}" Width="80"/>
                <DataGridTextColumn Header="Callsigns" Binding="{Binding CallsignsText}" Width="150"/>
                <DataGridTextColumn Header="Unit" Binding="{Binding Unit}" Width="50"/>
                <DataGridTextColumn Header="Dialog" Binding="{Binding Dialog}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- PAGING -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="10">
            <Button Content="← Назад"
                    Margin="5"
                    Command="{Binding PrevPageCommand}"/>
            <TextBlock Text="{Binding Page}"
                       VerticalAlignment="Center"
                       Margin="10,0"/>
            <Button Content="Вперёд →"
                    Margin="5"
                    Command="{Binding NextPageCommand}"/>
        </StackPanel>
    </Grid>
</Window>